!function(){"use strict";function t(t,e){this.object=t,this.name=e,this.fn=t[e]}function e(t,e){this.method=t,this.arguments=Array.prototype.slice.call(e)}function o(){this._isLoaded=!1,this._methods=[],this._callQueue=[]}t.prototype.exec=function(t){this.fn.apply(this.object,t)},t.prototype.replaceWith=function(t){this.object[this.name]=t},t.prototype.revert=function(){this.object[this.name]=this.fn},t.prototype.equals=function(t){return this.object===t.object&&this.name===t.name},e.prototype.exec=function(){this.method.exec(this.arguments)},o.prototype.exec=function(){this._isLoaded=!0,this._revertAllMethods(),this._makeCalls()},o.prototype.last=function(o,i){if(!this._isLoaded){var s=this,n=new t(o,i);n.replaceWith(function(){var t=s._getCallObject(n);if(t)t.arguments=arguments;else{var o=new e(n,arguments);s._callQueue.push(o)}}),this._methods.push(n)}},o.prototype._getCallObject=function(t){for(var e in this._callQueue){var o=this._callQueue[e];if(t.equals(o.method))return o}return!1},o.prototype._makeCalls=function(){this._callQueue.forEach(function(t){t.exec()}),this._callQueue=[]},o.prototype._revertAllMethods=function(){this._methods.forEach(function(t){t.revert()}),this._methods=[]},"undefined"!=typeof exports?exports=o:window.FuryLazyCall=o}();
//# sourceMappingURL=FuryLazyCall.min.js.map